////
guide-dossier-exploitation.adoc

SPDX-FileCopyrightText: 2023 Vincent Corrèze

SPDX-License-Identifier: CC-BY-SA-4.0
////

# Guide dossier d'exploitation
:sectnumlevels: 4
:toclevels: 4
:sectnums: 4
:toc: left
:icons: font
:toc-title: Sommaire

NOTE: Lisez ce document avant de travailler sur le modèle correspondant.

## Introduction

Ce guide détaille les rubriques du dossier d'exploitation. Il indique pour chacune d'entre elle les notions utiles, et le type d'information attendue.

## Audience

Le dossier d'exploitation est destiné à des utilisateur.euses techniques, qui disposent des connaissances spécifiques nécessaires à la gestion de l'application. Celles-ci sont détaillées dans le dossier lui-même. Ce guide est destiné aux rédacteurs du dossier.

## Pourquoi ai-je besoin d'un dossier d'exploitation ?

Le Dossier d'exploitation (DEX) est le document principal du fonctionnement courant d'un outil en production. Il recense et documente les éléments majeurs du fonctionnement, pour permettre une supervision, un diagnostic et une intervention réactive pour toute non-conformité constatée.

Un dossier d'exploitation:

* permet à un technicien d'intervenir sur une application qu'il ne connaît pas pour une intervention d'exploitation
* Permet à un.e intervenant.e de comprendre le fonctionnement d'une application pour assurer un dépannage rapide
* Permet de mémoriser (capitaliser la connaissance) le fonctionnement et les actions majeures d'exploitation autour de l'outil
* Est le point d'entrée de l'exploitation d'une application, permettant l'accès aux autres documents de référence
* référence l'ensemble des problématiques courantes de l'exploitation d'une application ou d'un système applicatif

Il a vocation à être une synthèse, qui référence si besoin d'autres documents (procédures, dossier d'architecture, plan de sauvegarde, etc.) qui soit le "point d'entrée" de l'information sur l'outil dans son environnement de production.

## Écrire le dossier

### _En-tête_

L'en-tête du document contient plusieurs informations :

* La date de dernière modification, permet une forme de suivi de version. Selon la pratique de votre organisation, ceci peut être complété par un tableau de suivi des versions, généralement placé en fin de document.
* La date de dernière revue globale, permet de s'assurer que le document est bien revu régulièrement et qu'il est pertinent. Il est utile de réviser le dossier d'exploitation à chaque modification significative de l'environnement de l'application.
* Le statut du document, qui indique si le document est complet ou non (_par exemple : BROUILLON, TERMINE, VALIDE_).
* Le ou les critères de diffusion

Si le document est soumis à des critères de diffusion de l'information, il est important de les préciser dès le début du document. On peut s'appuyer par exemple sur le modèle **TLP** tel que précisé et utilisé par l'ANSSI dans sa https://www.cert.ssi.gouv.fr/csirt/politique-partage/[politique de diffusion opérationnelle]. Le marquage PAP peut le compléter, mais il est généralement moins pertinent dans le contexte d'un dossier d'exploitation.

En cas de besoin, en particulier dans l'administration, il est nécessaire d'y ajouter le marquage de protection (ex: Diffusion restreinte) ou de classification (ex: sensible, secret, très secret) adapté.

### _Introduction_

#### _But de ce document_

Décrire sommairement les principales fonctions du dossier d'exploitation. On donne ici les liens vers les autres documents majeurs du dossier applicatif.

#### _Destinataires_

Indiquer ici précisément qui sont les destinataires du document. Il s'agit de recenser les profils qui doivent connaître ce document pour permettre le bon fonctionnement de l'application ou de la solution concernée, ou qui sont susceptible d'intervenir sur la solution en cas d'incident de fonctionnement.

En particulier, si l'intervention est réservée à certaines équipes pour des raisons particulière (expertise, rôles, etc.), le préciser ici.

#### _Information concernant les licences_

Résumer ici les modalités exactes d'acquisition de licence, leur configuration et leur fonctionnement (licence par siège ou par serveur, modalités de comptabilisation, etc.). Les modalités d'attribution aux personnes concernées sont précisées au § <<Gestion des habilitations>>.

S'il s'agit d'une licence libre, vous pouvez indiquer les modalités d'accès au code et distinguer les licences du code et de la documentation.

### _Documents de référence_

Référencer ici les documents de référence mutualisés (ex: PSSI). Il ne faut en aucun cas reprendre leur contenu (cela deviendrait vite non maintenable), mais on peut référencer les paragraphes spécifiques applicables à l'outil, ou particulièrement notables dans le contexte. Il est important d'indiquer la version à laquelle on se réfère, afin de déclencher une actualisation du document si le document de référence est modifié.

#### _Documents internes_

Indiquer les documents internes à l'entreprise.

#### _Référentiels externes_

Si l'application dispose de référentiels externes (documentation en ligne, documentations déposées sur le SI), elles peuvent être indiquées ici, en indiquant le type de documentation.

### _Présentation de l'application_

#### _Description succincte de l'application_

Ce paragraphe a vocation à donner aux personnes de l'équipe technique une compréhension globale du rôle et du fonctionnement de l'application concernée, ainsi que de sa valeur métier.

#### _Lien avec les applications existantes_

Si l'application est intégrée dans une chaîne de traitement, il est essentiel pour les acteurs de l'exploitation de comprendre les processus métiers bloqués par son dysfonctionnement. On insère donc ici un résumé de la chaîne de traitement global.

Utiliser éventuellement des diagrammes (type https://mermaid.js.org/[Mermaid] ou https://c4model.com/[C4]) pour clarifier le fonctionnement.

#### _Gestion des habilitations_

On décrit ici les modalités d'autorisation d'accès à l'application. la procédure opérationnelle de création d'une compte est décrite au § <<Gestion des accès>>.

##### _Rôles disponibles_

Ce chapitre détaille les rôles d'accès à l'application et indique quelles sont les autorités qui valident l'habilitation de chacun des rôles et réalisent les revues de droit.

##### _Procédure d'habilitation_

Décrire ici le détail de la procédure d'habilitation : processus de validation de la création de compte, modalités et délais de réalisation. On peut utiliser par exemple un diagramme de séquence pour décrire la procédure.

##### _Revue de droits_

La revue de droits est l'opération consistant à vérifier la liste des accès, leur niveau d'accréditation pour s'assurer que seules les personnes habilitées ont accès à l'application. C'est un composant essentiel de la sécurité du système d'information.

On donne ici l'organisation de la revue de droits, les délais de réalisation, sa fréquence et les personnes mobilisées.

La date de dernière revue de droits est indiquée au § <<Contrôles de sécurité>>

### _Criticité de l'application_

L'étude et la qualification des déterminants de sécurité relèvent de la link:../DA/vue-architecture-securite.adoc[vue sécurité] du dossier d'architecture. Le tableau proposé est une synthèse pour permettre aux exploitants une vue rapide des exigences de sécurité relative à l'application. Il a pour but de rappeler précisément le niveau de criticité de l'application à la personne qui intervient.

#### _Criticité métier_

La notion de criticité métier est déduite de la gravité des incidents ou événements redoutés (au sens EBIOS RM) possibles sur l'application.

Il est préférable d'utiliser une échelle simple et directement lisible comme dans les exemples ci-dessous :

.Criticité métier
[cols="^1,2,2,2,2,2"]
|===
| *Niveau* | *Politique et image de marque* | *Désorganisation interne ou externe* | *Légal et règlementaire* | *Financier et économique* | *Atteinte à la vie des personnes*
| 1 - Faible | Plaintes ou doléances limitées de clients ou partenaires | Nécessité d'adaptation limitée du mode de fonctionnement habituel | Sanction interne à l'organisation | Impact budgétaire limité | Inconfort ou stress élevé des personnes.
| 2 - Modéré | Plaintes ou doléances importantes de clients ou partenaires, mentions limitées dans la presse | Augmentation de la charge de travail, doléances ou plaintes des équipes, stress élevé des équipes | Condamnation civile d'un employé, mention de l'organisation dans une affaire civile ou pénale | Pertes supérieures à 5% du CA pour l'organisation. Impact économique ou financier limité pour un partenaire de l'organisation | Blessure légère d'employés ou de personnes extérieures
| 3 - Important | Campagnes dans des médias locaux ou limitée dans des médias nationaux. Mouvements de protestation locaux ou limités, perte limitée de pouvoir de négociation | Bouleversements importants de la vie des personnes. Mobilisation limitée de moyens ou ressources supplémentaires. Perte limitée de productivité. Mouvements de protestation limités | Enquête administrative. Condamnation ou amende prononcée à l'encontre de l'organisation. | Pertes supérieures à 10% du CA de l'organisation. Impact économique ou financier important pour un partenaire | Blessure lourde d'employé ou de personne extérieure à l'organisation.
| 4 - Critique | Campagnes dans des médias nationaux ou internationaux. Mouvements de protestation importants. Perte importante de pouvoir de négociation. | Mobilisation importante de moyens ou ressources supplémentaires. Perte importante de productivité. Mouvements de protestation importants | Condamnation pénale d'un employé ou de l'organisation | Pertes supérieures à 20% du CA de l'organisation. Impact économique ou financier critique pour un partenaire | Accident grave impliquant un nombre important de personnes. Décès de personnes.
|===

#### _Déterminants de sécurité_

Les déterminants de sécurité indiquent les contraintes qui guident les mesures techniques nécessaires pour assurer la sécurité de l'application.

.Échelle de criticité sécurité
[cols="^1,2,2,2,2"]
|===
| *Niveau*  | *Disponibilité* (_Durée maximale d'Interruption tolérable_) | *Intégrité* (_les modifications non souhaitées sont elles ?_) | *Confidentialité* (_L'information traitée est_) | *Traçabilité* (_les acteurs modifiant la donnée sont_)
| 1 - Faible | 1 semaine | possibles - La donnée peut ne pas être intègre | Publique (tout le monde peut accéder à la donnée) | non connus
| 2 - Modéré | 1 jour | détectées : la donnée peut ne pas être intègre si l'altération est identifiée dans un délai raisonnable | Accès restreint à un groupe - la donnée n'est accessible qu'aux personnes habilitées | connus pour information
| 3 - Élevé | 4 heures | détectées et corrigées : La donnée peut ne pas être intègre si l'altération est identifiée et l'intégrité du bien essentiel retrouvée | confidentielle (chiffrée) - la donnée n'est accessible qu'au personnelle interne habilité | Identifiable : l'action réalisée est imputable
| 4 - Critique | 1 heure | Aucune modif intempestive : La donnée doit toujours être rigoureusement intègre, _ie_ plusieurs validations avant enregistrement | Secrète (chiffrement fort) - la donnée n'est accessible que par l'intéressée | Légalement connus, l'action est certifiable et opposable
|===

#### _Données à caractère personnel_

Cet indicateur relatif au RGPD permet d'indiquer si l'outil contient des DCP, si elles sont sensible et quelle est la référence du traitement dans l'inventaire des traitements du DPO. On peut utiliser l'échelle suivante.

.Échelle de sensibilité des données à caractère personnel
[cols="^1,4"]
|===
| *Niveau* | *Détail*
| 1 - Faible | Aucune DCP n'est présente
| 2 - Modéré | Données d'identité simples (nom, prénom, mail) ou individualisation par inférence sans permettre d'obtenir des données confidentielles
| 3 - Élevé | Données personnelles évoluées, ou quantité collectée importante, ou collecte de données confidentielles ou secrètes sur la personne (ex: contrat de travail)
| 4 - Critique | Données sensibles au sens RGPD (origine, opinions, convictions, appartenance, biométrie, génétique, santé, vie ou orientation sexuelle, etc.)
|===

### _Expertise requise_

Ce paragraphe sert à préciser les compétences *absolument indispensables* pour une exploitation basique de la solution.

Cela permet à une personne en charge du support de savoir si elle doit faire appel à une autre ressource (support externe, administrateur système spécialisé, etc.) ou si elle peut intervenir sur l'incident constaté.

### _Description de l'environnement et configuration_

Détailler l'environnement exact de production, avec toutes ses composantes physiques, d'outils socles (CORS), de composants.

La description doit être orientée vers une description du fonctionnement courant de l'application.

#### _Présentation de l'architecture générale_

Donner l'architecture générale de l'application, sans rentrer dans les détails de chaque composant. l'enjeu est de lister l'ensemble des composants *boites noires* d'exploitation, pour donner à l'exploitation une idée des modules successifs, non de décrire en détail le fonctionnement de chaque module.

#### _Description des serveurs_

Indiquer les serveurs utilisés par l'application, en détaillant *a minima* les serveurs de production.

Il est important de préciser s'il existe des serveurs de staging, de développement et/ou une chaine de déploiement automatique pour permettre à l'exploitant d'explorer cette piste en cas d'erreur.

#### _Matériels physiques_

décrire ici les matériels physiques concernés par l'application. Il peut s'agir de serveurs mais aussi des périphériques nécessaires au fonctionnement (par exemple des badgeuses).

#### _Description des composants_

Décrire ici plus en détail les composants de l'application et leur modalités de fonctionnement.

#### _Stockage des données_

On détaillera ici précisément les modalités de stockage des données.

WARNING: Il est nécessaire de bien prendre en compte l'ensemble des données de l'application, y compris les données de configuration et les données techniques (logs par exemple, ou code source si disponible) pour donner une vision d'ensemble des données manipulées.

### _Exploitation globale_

Ce chapitre détaille les opérations courantes d'exploitation de l'application.

#### _Gestion des accès_

La gestion des accès (habilitations) d'une application est l'opération la plus courante en terme d'exploitation. Ce paragraphe décrit les modalités de création d'un compte et d'attribution d'un rôle, au sens opérationnel (technique).

Il est important de s'assurer :

- qu'il existe plusieurs comptes administrateurs pour pouvoir débloquer un compte administrateur verrouillé à partir d'un autre compte.
- que les modalités d'attribution d'un rôle sont bien définies, et en particulier que la chaîne de responsabilité correspondante est bien décrite (Cf. supra le chapitre sur la <<Gestion des habilitations>>.).

#### _Mise en service de l'application_

Ce paragraphe doit décrire les modalités d'arrêt/démarrage de l'application. En particulier, il détail l'ordre d'arrêt/démarrage des services (plan de production), et les dépendances entre ces services.

#### _Paramétrage et configuration_

Détailler ici où trouver les informations de paramétrage de l'application. On doit indiquer à la fois où se trouve la documentation de référence du paramétrage (_ie_ le dossier de paramétrage s'il existe) et l'emplacement exact des informations de paramétrage essentielles de l'application et de ses modules.

Attention de ne pas dupliquer ici des informations standard où des règles génériques de fonctionnement déjà décrites par ailleurs.

#### _Déploiement / mise à jour_

Ce paragraphe décrit sommairement les modalités de déploiement et de mise à jour de l'application.

Il doit pointer vers une version détaillée dans les dossiers *DIN* (Dossier d'Installation) et/ou *DMV* (Dossier de montée de version). Si les procédures correspondante sont en lignes, les liens sont indiqués ici.

#### _Interruption / maintenance_

Si l'application dispose d'une modalité de bascule en mode maintenance, elle est décrite ici.

A défaut, il faut préciser ici les modalités de mise en oeuvre d'un mode maintenance.

#### _Sauvegarde / Restauration_

##### _Modalités de sauvegarde_

Ce chapitre décrit en détail les éléments sauvegardés, la périodicité et les stratégies de sauvegarde ainsi que leur bilan.

Il détaille aussi bien les filesystem sauvegardés que le plan de dump de la base de donnée, et les modalités de rotation des sauvegarde.

Le choix et la définition de stratégie de link:https://fr.wikipedia.org/wiki/Sauvegarde_(informatique)[sauvegarde] sont hors du périmètre de ce document, mais il est important de respecter à minima le principe *3,2,1* (trois sauvegardes sur deux supports différents dont 1 hors site).

Il est fréquent de disposer à la fois d'un plan de sauvegarde de la donnée (p. ex dump de base), d'un plan de sauvegarde de l'application (filesystem, qui intègre les données) et d'un plan de sauvegarde de la machine (en particulier s'il s'agit d'une machine virtuelle). Ce principe, dit _ceinture, bretelle, parachute_ permet de s'assurer d'avoir trois modalités différentes de restauration de l'applicatif.

L'link:https://cyber.gouv.fr/[ANSSI] a publié un document synthétique sur les link:https://cyber.gouv.fr/publications/fondamentaux-sauvegarde-systemes-dinformation[fondamentaux de la sauvegarde des systèmes d'information], complémentaire du document sur les link:https://cyber.gouv.fr/publications/les-regles-dor-de-la-sauvegarde[règles d'or de la sauvegarde].

Afin de garantir le bon fonctionnement des sauvegardes, celles-ci doivent être *régulièrement testées* et le plan de test et ses résultats doivent être décrits ici.

La volumétrie des sauvegardes peut rapidement devenir importante. Il est important de définir une stratégie de rotation, en lien avec les aspects de sécurité ou de conformité réglementaire, permettant de limiter celle-ci. On s'intéressera par exemple à la stratégie link:https://fr.wikipedia.org/wiki/Grandfather-Father-Son_Backup[GFS] et ses variantes.

Ce paragraphe doit décrire aussi les modalités d'une sauvegarde à la demande de l'application, par exemple avant une modification importante de paramétrage ou une montée de version.

Particulièrement ici, en application du Principe link:https://fr.wikipedia.org/wiki/Ne_vous_r%C3%A9p%C3%A9tez_pas[DRY], si l'application suit un plan normalisé de sauvegarde, on ne fera ici qu'un lien vers celui-ci.

##### _Restauration_

Ce chapitre doit décrire *la* modalité standard de restauration. En particulier, compte tenu des nombreuses modalités possible de sauvegarde, on détaillera ici la modalité préférentielle et ses contraintes.

#### _Exploitation des composants standard (COTS) de l'application_

On détaillera ici les modalités particulière d'exploitation des composants sur étagère.

En particulier, si leur fonctionnement nécessite des commandes ou un paramétrage complexes, elles sont détaillées dans ce chapitre.

#### _Exploitation des composants de l'application_

si des composants particuliers de l'application nécessitent une configuration ou une gestion particulière, elle est explicitée ici.

#### _Planification des traitements_

Ce paragraphe doit détailler le plan chronologique des traitements effectués par l'application. Il est important pour déterminer les périodes d'intervention possible sur l'application.

Il est particulièrement sensible si des traitements manipulent ou transfèrent des données métier et ont un temps d'exécution significatif. Il doit permettre d'identifier les phases critiques de fonctionnement.

Il est nécessaire que l'ensemble des traitements, leur horaire et leur durée moyenne ainsi que les moyens de suivi soient détaillés.

#### _Échanges de données_

Ce chapitre décrit les différentes interfaces de données effectuées par l'application.

Le fonctionnement et la gestion des interfaces de données peut revêtir un caractère critique dans le fonctionnement global d'un système d'information. L'exploitation doit connaître les modalités de transfert des données pour pouvoir diagnostiquer les erreurs éventuelles.

On détaille les situations entrantes et sortantes.

##### _Exports_

Les exports de données sont souvent des fonctions très utilisées, et mal définies. Les exports sont souvent utiliser pour retraiter ces données pour d'autres fonctions métier.

Ces exports contiennent souvent des données sensibles (données personnelles par exemple) et doivent donc bénéficier d'une attention particulière en terme de diffusion, de sauvegarde et de confidentialité.

Il faut décrire ici les types d'export sensibles et les modalités de sécurité qui s'y rapportent.

### _Suivi de l'état du système_

Ce chapitre décrit l'ensemble des éléments et méthodes techniques de suivi de l'état du système.

### _Veille et patchs_

Il faut indiquer ici les éléments de veille de sécurité sur l'outil, et les modalités de suivi des patchs et mises à jour de sécurité. On précisera en particulier la fréquence minimale de suivi des mises à jour, et les conditions au regard desquelles ces mises à jour peuvent être retardées.

Ce paragraphe doit aussi décrire les modalités de test et de validation des mises à jour (non-régression, complétude du périmètre fonctionnel), en pointant par exemple vers le plan de test fonctionnel du *DMV*.

#### _api de supervision_

Si l'application dispose d'une api de supervision, elles est détaillées ici.

#### _logs_

Il est nécessaire de décrire de façon exhaustive les logs générés par l'application, tant au plan technique qu'applicatif. On indiquera à chaque fois la nature et l'objet des logs générés, ainsi que leur emplacement.

On précisera si les logs contiennent des données à caractère personnelle (par exemple les logs d'un serveur de messagerie contiennent l'adresse courriel de l'émetteur et des correspondants). Dans ce cas détailler les mesures de protection correspondantes.

#### _Audit_

Certaines applications disposent de modalités spécifiques d'audit permettant de vérifier le bon fonctionnement de l'ensemble des composants.

Si ces éléments existent, il faut les décrire ici.

#### _Gestion de la capacité_

La vue dimensionnement du dossier d'architecture a permis d'étudier les questions de capacité de l'application.

Ce chapitre doit indiquer les points de contrôle de la capacité et l'emplacement où ils sont supervisés.

#### _Contrôles de sécurité_

Ce chapitre indique, ou pointe vers l'endroit où se trouve les informations de suivi de l'état de sécurité de l'application.

Ce suivi vise à vérifier que les contrôles de sécurité sont effectués et supervisés. S'il existe des tests de sécurité, ils doivent aussi être décrits.

Ce chapitre peut pointer vers un document global de suivi de sécurité s'il existe.

#### _alerting_

Lorsqu'il existe des modalités spécifiques d'alerting relatives à l'application (par ex. envoi d'un mail vers une BAL spécifique), celles-ci doivent être précisées.

On privilégiera bien sûr l'usage d'un outil de supervision pour assurer un alerting centralisé.

Il est important de différencier l'alerting technique (_ie_ un module ne fonctionne pas) de l'alerting métier (_ie_ la fonction de transfert des données n'a pas fonctionné).

### _Organisation du support_

#### _Procédure_

Ce chapitre doit décrire la procédure de support pour les intervenants décrits au § <<Destinataires>>. Il s'agit de préciser à l'exploitant les modalités d'accès au support niveau 2, voire trois. On ne détaillera pas ici la procédure de support pour les utilisateurs finaux de l'application.

Cette procédure doit indiquer les _SLA_ de l'application, et les modalités éventuelle d'alerte auprès des responsables applicatifs ou/et de mobilisation d'une cellule de crise.

#### _Responsable applicatif_

Le ou les responsables applicatifs sont les personnes référentes habilitées à prendre des décisions opérationnelles sur le fonctionnement de l'application (arrêt, reprise de données, travail de saisie pour reprise après panne, etc.). Ils sont les interlocuteurs de la DSI pour tout ce qui concerne l'application, et doivent être explicitement désignés à cet effet.

#### _Rôles et attribution des intervenants_

Toutes les personnes ou entités susceptibles d'intervenir, en niveau 2 ou 3, sur l'exploitation de la solution doivent être identifiés. Il peut s'agit d'un portail de support, d'adresse générique, de personnes identifiées.

Ce chapitre est souvent le plus utilisé dans le DEX, car il permet à un exploitant de savoir à qui s'adresser s'il n'a pas les ressources pour intervenir lui-même.

Il est fortement recommandé que les intervenants externes (support éditeur p. ex) soient tous identifiés dans cette partie.

#### Modalités d'intervention distante

Donner ici précisément les modalités d'accès distant du fournisseur en indiquant en particulier la gestion des comptes, le type d'accès et la nécessité ou non de superviser l'accès.

### FAQ

Donner ici les "trucs et astuces" permettant le bon fonctionnement technique et organisationnel de l'application.

## Voir aussi

* link:https://www.cert.ssi.gouv.fr/csirt/politique-partage/[politique de diffusion opérationnelle] de l'ANSSI
* https://mermaid.js.org/[Mermaid]
* https://c4model.com/[C4]
* link:https://fr.wikipedia.org/wiki/Sauvegarde_(informatique)[sauvegarde informatique (Wikipedia)]
* link:https://cyber.gouv.fr/publications/fondamentaux-sauvegarde-systemes-dinformation[fondamentaux de la sauvegarde des systèmes d'information]
* link:https://cyber.gouv.fr/publications/les-regles-dor-de-la-sauvegarde[règles d'or de la sauvegarde]
* link:https://fr.wikipedia.org/wiki/Grandfather-Father-Son_Backup[Sauvegarde Grand-père - père - fils]
* link:https://fr.wikipedia.org/wiki/Ne_vous_r%C3%A9p%C3%A9tez_pas[Principe DRY : Don't Repeat Yourself]
